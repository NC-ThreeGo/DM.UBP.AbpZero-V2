webpackJsonp([2],{546:function(e,n,t){"use strict";var a,i,o,r,s,l,c,d,p,u;Object.defineProperty(n,"__esModule",{value:!0}),a=t(0),i=t.n(a),o=t(4),r=t(5),s=t(258),l=t(7),c=function(e){return'\n        <div class="fr-expr">\n            <div class="fr-modal-body">\n                <div class="expr-body">\n                    <textarea>'+e+'</textarea>\n                </div>\n                <div class="expr-menu"></div>\n            </div>\n\n            <div class="fr-modal-footer content-right">\n                <button type="button" disabled="disabled" class="fr-btn fr-btn-primary add-to-expr">\n                    '+l.a.tr("Style Add")+'\n                </button>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <button type="button" class="fr-btn fr-btn-primary edit-expr">\n                    '+l.a.tr("Buttons Ok")+"\n                </button>\n            </div>\n        </div>\n    "},d=t(548),t.d(n,"expression",function(){return u}),p={},u={edit:function(e,n,t){function a(n){var t="string"!=typeof e?e.prop("Brackets"):o.a.get("brackets");return t[0]+n+t[2]}function l(e){e.preventDefault(),e.stopPropagation()}function d(e){var n=i()(e.target),t=n.parent()[0].element;e.originalEvent.dataTransfer.setData("text",t.view||t.getView(n))}function p(e){var n=i()(e.target),t=e.originalEvent.dataTransfer.getData("text");e.preventDefault(),n.val(n.val()+a(t))}var u,f,b,v,m,h,g,x,y;return void 0===e?null:(u=new s.a("ExpressionEditor"),f="string"==typeof e?e:void 0===e.prop(n)?"":e.prop(n),b=i()(c(f)),v=void 0,v=!!t&&this.getMenu({track:!1}),h=i()(".expr-menu",b),g=i()("textarea",b),x=i()(".add-to-expr",b),y={$popup:u,$textarea:g,onClick:function(){var t=g.val();e&&e.prop(n)!==t&&(e.prop(n,t,!0),r.a.trigger("update-properties-panel",e),e.render()),u.close()}},v?(m=i()(".rt-content[data-component]",v),h.html(v),m.attr("draggable",!0),m.css("cursor","move"),m.on("dragstart",d),g.on("dragover",l),g.on("dragenter",l),g.on("drop",p),v.on("click",".rt-content",function(){i()(this).is(".selected[data-component]")?x.removeAttr("disabled"):x.attr("disabled",!0)}),x.on("click",function(){var e=i()(".selected",v),n=e.parent()[0].element,t=n.view||n.getView(e);t&&g.val(g.val()+a(t))})):(g.parent().css("width","100%"),x.remove(),h.remove()),b.on("click",".edit-expr",function(e){return y.onClick.apply(this,[e,g.val(),u])}),i()(".fr-modal-content",u).html(b),y)},getMenu:function(e){return this._getMenu(e||{})},_getMenu:function(e){var n=e.track,t=e.openConnections,a=e.openSystemVariables,i=e.openTotals,o=e.openParameters,s=e.openFunctions,l=!1===n?{}:p,c=window.DSG.currentReport,u=c.connections,f=c.dataSources,b=c.systemVariables,v=c.totals,m=c.parameters,h=c.functions,g=[];return u&&g.push({label:"Dictionary DataSources",icon:"icon-053",fields:[].concat(u.all(),f.all()),editable:[function(e){r.a.trigger("new-connection-wizard",e)},null],openedInTree:t}),b&&g.push({label:"Dictionary SystemVariables",icon:b.attr("icon"),fields:b.entities,openedInTree:a}),v&&g.push({label:"Dictionary Totals",icon:"icon-132",fields:v.all(),editable:[function(e){r.a.trigger("create-total",e)},null],openedInTree:i}),m&&g.push({label:"Dictionary Parameters",icon:"icon-234",fields:m.all(),editable:[function(e){r.a.trigger("create-parameter",e)},null],openedInTree:o}),h&&g.push({label:"Dictionary Functions",icon:h.icon,fields:h.entities,className:"functions",openedInTree:s}),Object(d.a)({nodes:g,selectable:!0,openedInTree:l,editable:!0})}}},548:function(e,n,t){"use strict";function a(e){var n,t,i,o,r,s,u,f,b,v,m,h,g,x,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){if(b=e.label&&c.a.tr(e.label)||""+e,n=l()("<li>"),n.addClass("rt-node"),i=l()("<div>"),i.addClass("rt-expand"),r=l()("<div>"),r.addClass("rt-icon"),null!==e.icon&&r.addClass(e.icon||e.prop&&e.prop("DataType")&&e.prop("DataType").icon||e.attr&&e.attr("icon")||p.a.first().icon),s=l()("<div>"),s.addClass("rt-content"),s.text(b),"function"==typeof e.attr&&!0===e.attr("checkbox")&&(o=l()('<input type="checkbox">'),o.prop("checked",e.attr("checked")),o.addClass("rt-checkbox pull-left"),"function"==typeof C&&o.change(e,C)),e.editable&&(e.editable[0]&&(s.append('<a href class="add"><i class="fa fa-plus-circle"></i></i></a>'),s.on("click",".add:not([disabled])",function(){var n=l()(this),t=n.parents(".rt-node:first")[0].element;return t&&"function"==typeof e.editable[0]&&e.editable[0](t),!1})),e.editable[1]&&(s.append('<a href class="remove"><i class="fa fa-minus-circle"></i></i></a>'),s.on("click",".remove:not([disabled])",function(){var n=l()(this),t=n.parents(".rt-node:first")[0].element;return t&&"function"==typeof e.editable[1]&&e.editable[1](t),!1}))),e.interface&&s.attr("data-interface",e.interface),e.bindableControl&&s.attr("data-component",e.bindableControl),u=l()("<ul>"),u.addClass("rt-container"),e.fields?h=e.fields:e.parameters&&e.parameters.count()>0?h=e.parameters.all():e.columns||e.dataSources?(e.columns&&e.columns.count()>0&&(h=e.columns.all()),e.dataSources&&e.dataSources.count()>0&&(h=h?h.concat(e.dataSources.all()):[].concat(e.dataSources.all()))):e.isRelation&&e.isRelation()&&(g=e.attr("_ParentDataSource"))&&(h=g.columns.all(),h=[].concat(g.asChildIn||[],h,g.dataSources.all())),x=function(n){e.openedInTree||y[e._id||e.label]?(i.addClass("icon-exp_minus"),y[e._id||e.label]=!0):(i.addClass("icon-exp_plus"),u.addClass("d-hidden")),l.a.each(n,function(e,n){t=a(n,y,C),u.append(t)}),n.length&&e.isColumn&&e.isColumn()&&r.attr("class","rt-icon icon-233")},h&&("function"==typeof h?h().then(function(){x.apply(this,arguments)}).catch(function(e){"1"!==e.error.message&&Object(d.a)(e.entity+" could not be loaded",{danger:!0})}):x(h)),e.isDataSource&&e.isDataSource()&&(h||n.hide(),e.asChildIn&&e.asChildIn.length))for(v=0,m=e.asChildIn.length;v<m;v+=1)f=a(e.asChildIn[v],y,C),u.prepend(f);n[0].element=e,n.append(i,o,r,s,u)}return n}function i(e,n,t){var i,o=l()("<ul>");return o.addClass("root"),e&&(e.className&&o.addClass("functions"),i=a(e,n,t),e.fields&&"function"!=typeof e.fields&&(0===e.fields.length||l.a.isPlainObject(e.fields)&&l.a.isEmptyObject(e.fields))&&i.find(".rt-expand").css("opacity",0),o.append(i)),o}function o(e){var n=e.nodes,t=e.selectable,a=e.checkable,o=e.editable,r=e.openedInTree,s=void 0===r?{}:r,c=e.onCheckboxChange,p=l()("<div>");return p.addClass("data-main-container"),n.forEach(function(e){p.append(i(e,s,c))}),p.on("click",".rt-expand, .rt-icon",function(){var e,n=l()(this);return n.is(".rt-icon")&&(n=n.prev(".rt-expand")),e=n.parent()[0].element,n.is(".icon-exp_minus")?(delete s[e._id||e.label],n.parent().find(".rt-container:first").slideUp(100,function(){n.removeClass("icon-exp_minus").addClass("icon-exp_plus")})):n.is(".icon-exp_plus")&&(s[e._id||e.label]=!0,n.parent().find(".rt-container:first").slideDown(100,function(){n.removeClass("icon-exp_plus").addClass("icon-exp_minus")})),!1}),!0===t&&p.on("click",".rt-content",function(){var e=l()(this),n=e.parents(".root"),t=e.data("interface"),a=l()("<div>");n.is(".functions")&&t&&(a.append(t),Object(d.a)(a,{inEmptyList:!0,limitWidth:!1,delay:!1})),l()(".selected",p).removeClass("selected"),e.addClass("selected")}),a||p.find(".rt-checkbox").remove(),o||(p.find(".add").remove(),p.find(".remove").remove()),p}var r,s,l,c,d,p;n.a=o,r=t(549),t.n(r),s=t(0),l=t.n(s),c=t(7),d=t(51),p=t(69)},549:function(e,n){}});